!function(t,n){var r,e;"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(r=t.Base64,(e=n()).noConflict=function(){return t.Base64=r,e},t.Meteor&&(Base64=e),t.Base64=e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(){"use strict";var t,n,r="3.7.7",e="function"==typeof Buffer,o="function"==typeof TextDecoder?new TextDecoder:void 0,u="function"==typeof TextEncoder?new TextEncoder:void 0,f=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),i=(t=f,n={},t.forEach(function(t,r){return n[t]=r}),n),$=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,c=String.fromCharCode.bind(String),a="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t){return new Uint8Array(Array.prototype.slice.call(t,0))},s=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,function(t){return"+"==t?"-":"_"})},x=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},d=function(t){for(var n,r,e,o,u="",i=t.length%3,$=0;$<t.length;){if((r=t.charCodeAt($++))>255||(e=t.charCodeAt($++))>255||(o=t.charCodeAt($++))>255)throw TypeError("invalid character found");u+=f[(n=r<<16|e<<8|o)>>18&63]+f[n>>12&63]+f[n>>6&63]+f[63&n]}return i?u.slice(0,i-3)+"===".substring(i):u},h="function"==typeof btoa?function(t){return btoa(t)}:e?function(t){return Buffer.from(t,"binary").toString("base64")}:d,l=e?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var n=[],r=0,e=t.length;r<e;r+=4096)n.push(c.apply(null,t.subarray(r,r+4096)));return h(n.join(""))},p=function(t,n){return void 0===n&&(n=!1),n?s(l(t)):l(t)},y=function(t){if(t.length<2){var n=t.charCodeAt(0);return n<128?t:n<2048?c(192|n>>>6)+c(128|63&n):c(224|n>>>12&15)+c(128|n>>>6&63)+c(128|63&n)}var n=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return c(240|n>>>18&7)+c(128|n>>>12&63)+c(128|n>>>6&63)+c(128|63&n)},A=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_=function(t){return t.replace(A,y)},g=e?function(t){return Buffer.from(t,"utf8").toString("base64")}:u?function(t){return l(u.encode(t))}:function(t){return h(_(t))},b=function(t,n){return void 0===n&&(n=!1),n?s(g(t)):g(t)},C=function(t){return b(t,!0)},B=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,v=function(t){switch(t.length){case 4:var n=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c((n>>>10)+55296)+c((1023&n)+56320);case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},m=function(t){return t.replace(B,v)},F=function(t){if(t=t.replace(/\s+/g,""),!$.test(t))throw TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var n,r,e,o="",u=0;u<t.length;)n=i[t.charAt(u++)]<<18|i[t.charAt(u++)]<<12|(r=i[t.charAt(u++)])<<6|(e=i[t.charAt(u++)]),o+=64===r?c(n>>16&255):64===e?c(n>>16&255,n>>8&255):c(n>>16&255,n>>8&255,255&n);return o},U="function"==typeof atob?function(t){return atob(x(t))}:e?function(t){return Buffer.from(t,"base64").toString("binary")}:F,D=e?function(t){return a(Buffer.from(t,"base64"))}:function(t){return a(U(t).split("").map(function(t){return t.charCodeAt(0)}))},w=function(t){return D(S(t))},R=e?function(t){return Buffer.from(t,"base64").toString("utf8")}:o?function(t){return o.decode(D(t))}:function(t){return m(U(t))},S=function(t){return x(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}))},z=function(t){return R(S(t))},Z=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},E=function(){var t=function(t,n){return Object.defineProperty(String.prototype,t,Z(n))};t("fromBase64",function(){return z(this)}),t("toBase64",function(t){return b(this,t)}),t("toBase64URI",function(){return b(this,!0)}),t("toBase64URL",function(){return b(this,!0)}),t("toUint8Array",function(){return w(this)})},I=function(){var t=function(t,n){return Object.defineProperty(Uint8Array.prototype,t,Z(n))};t("toBase64",function(t){return p(this,t)}),t("toBase64URI",function(){return p(this,!0)}),t("toBase64URL",function(){return p(this,!0)})},P=function(){E(),I()},L={version:r,VERSION:r,atob:U,atobPolyfill:F,btoa:h,btoaPolyfill:d,fromBase64:z,toBase64:b,encode:b,encodeURI:C,encodeURL:C,utob:_,btou:m,decode:z,isValid:function(t){if("string"!=typeof t)return!1;var n=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(n)||!/[^\s0-9a-zA-Z\-_]/.test(n)},fromUint8Array:p,toUint8Array:w,extendString:E,extendUint8Array:I,extendBuiltins:P};return L.Base64={},Object.keys(L).forEach(function(t){return L.Base64[t]=L[t]}),L});